(function(k,g){"function"===typeof define&&define.amd?define([],g(k)):"object"===typeof exports?module.exports=g(k):k.houdini=g(k)})("undefined"!==typeof global?global:this.window||this.global,function(k){var g={},r="querySelector"in document&&"addEventListener"in k&&"classList"in document.createElement("_"),h,m={selector:"[data-collapse]",toggleActiveClass:"active",contentActiveClass:"active",initClass:"js-houdini",callback:function(){}},n=function(a,b,d){if("[object Object]"===Object.prototype.toString.call(a))for(var c in a)Object.prototype.hasOwnProperty.call(a,
c)&&b.call(d,a[c],c,a);else{c=0;for(var e=a.length;c<e;c++)b.call(d,a[c],c,a)}},l=function(){var a={},b=!1,d=0,c=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(b=arguments[0],d++);for(;d<c;d++){var e=arguments[d],f=void 0;for(f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b&&"[object Object]"===Object.prototype.toString.call(e[f])?a[f]=l(!0,a[f],e[f]):a[f]=e[f])}return a},t=function(a,b){var d=b.charAt(0),c,e;"["===d&&(b=b.substr(1,b.length-2),c=b.split("="),
1<c.length&&(e=!0,c[1]=c[1].replace(/"/g,"").replace(/'/g,"")));for(;a&&a!==document;a=a.parentNode){if("."===d&&a.classList.contains(b.substr(1))||"#"===d&&a.id===b.substr(1))return a;if("["===d&&a.hasAttribute(c[0]))if(e){if(a.getAttribute(c[0])===c[1])return a}else return a;if(a.tagName.toLowerCase()===b)return a}return null},u=function(a,b){if(!a.classList.contains(b.toggleActiveClass)&&a.hasAttribute("data-group")){var d=a.getAttribute("data-group"),d=document.querySelectorAll('[data-group="'+
d+'"]');n(d,function(a){var d=document.querySelector(a.getAttribute("data-collapse"));a.classList.remove(b.toggleActiveClass);d.classList.remove(b.contentActiveClass)})}};g.toggleContent=function(a,b,d){var c=l(c||m,d||{});d=document.querySelector(b);u(a,c);a.classList.toggle(c.toggleActiveClass);d.classList.toggle(c.contentActiveClass);if(!d.classList.contains(c.contentActiveClass)){var e=d.querySelector("iframe"),f=d.querySelector("video");e&&(e.src=e.src);f&&f.pause()}d.classList.contains(c.contentActiveClass)&&
d.focus();c.callback(a,b)};var p=function(a){var b=t(a.target,h.selector);b&&("a"!==b.tagName.toLowerCase()&&"button"!==b.tagName.toLowerCase()||a.preventDefault(),a=b.hasAttribute("data-collapse")?b.getAttribute("data-collapse"):b.parentNode.getAttribute("data-collapse"),g.toggleContent(b,a,h))},q=function(a){var b=document.querySelectorAll(h.selector);n(b,function(b){var c=document.querySelector(b.getAttribute("data-collapse"));a?(b.removeAttribute("aria-hidden"),c&&c.removeAttribute("tabindex")):
(b.setAttribute("aria-hidden","true"),c&&c.setAttribute("tabindex","-1"))})};g.destroy=function(){h&&(document.documentElement.classList.remove(h.initClass),q(!0),document.removeEventListener("click",p,!1),h=null)};g.init=function(a){r&&(g.destroy(),h=l(m,a||{}),document.documentElement.classList.add(h.initClass),q(),document.addEventListener("click",p,!1))};return g});houdini.init();
